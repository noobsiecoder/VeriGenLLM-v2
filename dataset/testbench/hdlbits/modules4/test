#! /opt/homebrew/Cellar/icarus-verilog/12.0/bin/vvp
:ivl_version "12.0 (stable)";
:ivl_delay_selection "TYPICAL";
:vpi_time_precision - 12;
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/system.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_sys.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/vhdl_textio.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/v2005_math.vpi";
:vpi_module "/opt/homebrew/Cellar/icarus-verilog/12.0/lib/ivl/va_math.vpi";
S_0x1366092c0 .scope module, "tb_top_module_shift" "tb_top_module_shift" 2 21;
 .timescale -9 -12;
v0x600001450900_0 .var "clk", 0 0;
v0x600001450990_0 .var "d", 0 0;
v0x600001450a20_0 .var "expected_q", 0 0;
v0x600001450ab0_0 .var "expected_shift_reg", 2 0;
v0x600001450b40_0 .var/i "i", 31 0;
v0x600001450bd0_0 .var/i "num_tests_passed", 31 0;
v0x600001450c60_0 .net "q", 0 0, v0x600001450480_0;  1 drivers
v0x600001450cf0_0 .var/i "total_tests", 31 0;
S_0x136606910 .scope module, "dut" "top_module_shift" 2 30, 3 1 0, S_0x1366092c0;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "d";
    .port_info 2 /OUTPUT 1 "q";
v0x600001450510_0 .net "clk", 0 0, v0x600001450900_0;  1 drivers
v0x6000014505a0_0 .net "d", 0 0, v0x600001450990_0;  1 drivers
v0x600001450630_0 .net "q", 0 0, v0x600001450480_0;  alias, 1 drivers
v0x6000014506c0_0 .net "sig_a", 0 0, v0x600001450120_0;  1 drivers
v0x600001450750_0 .net "sig_b", 0 0, v0x6000014502d0_0;  1 drivers
S_0x136606a80 .scope module, "flop1" "my_dff" 3 5, 2 4 0, S_0x136606910;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "d";
    .port_info 2 /OUTPUT 1 "q";
v0x600001450000_0 .net "clk", 0 0, v0x600001450900_0;  alias, 1 drivers
v0x600001450090_0 .net "d", 0 0, v0x600001450990_0;  alias, 1 drivers
v0x600001450120_0 .var "q", 0 0;
E_0x600003355d80 .event posedge, v0x600001450000_0;
S_0x1366050a0 .scope module, "flop2" "my_dff" 3 11, 2 4 0, S_0x136606910;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "d";
    .port_info 2 /OUTPUT 1 "q";
v0x6000014501b0_0 .net "clk", 0 0, v0x600001450900_0;  alias, 1 drivers
v0x600001450240_0 .net "d", 0 0, v0x6000014502d0_0;  alias, 1 drivers
v0x6000014502d0_0 .var "q", 0 0;
S_0x136605210 .scope module, "flop3" "my_dff" 3 17, 2 4 0, S_0x136606910;
 .timescale -9 -12;
    .port_info 0 /INPUT 1 "clk";
    .port_info 1 /INPUT 1 "d";
    .port_info 2 /OUTPUT 1 "q";
v0x600001450360_0 .net "clk", 0 0, v0x600001450900_0;  alias, 1 drivers
v0x6000014503f0_0 .net "d", 0 0, v0x6000014502d0_0;  alias, 1 drivers
v0x600001450480_0 .var "q", 0 0;
S_0x1366049b0 .scope task, "test_shift" "test_shift" 2 155, 2 155 0, S_0x1366092c0;
 .timescale -9 -12;
v0x6000014507e0_0 .var/i "cycle", 31 0;
v0x600001450870_0 .var "new_d", 0 0;
TD_tb_top_module_shift.test_shift ;
    %load/vec4 v0x600001450870_0;
    %store/vec4 v0x600001450990_0, 0, 1;
    %load/vec4 v0x600001450ab0_0;
    %parti/s 2, 0, 2;
    %load/vec4 v0x600001450870_0;
    %concat/vec4; draw_concat_vec4
    %store/vec4 v0x600001450ab0_0, 0, 3;
    %load/vec4 v0x600001450ab0_0;
    %parti/s 1, 2, 3;
    %store/vec4 v0x600001450a20_0, 0, 1;
    %wait E_0x600003355d80;
    %delay 1000, 0;
    %load/vec4 v0x600001450cf0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x600001450cf0_0, 0, 32;
    %load/vec4 v0x600001450c60_0;
    %load/vec4 v0x600001450a20_0;
    %cmp/e;
    %jmp/0xz  T_0.0, 4;
    %load/vec4 v0x600001450bd0_0;
    %addi 1, 0, 32;
    %store/vec4 v0x600001450bd0_0, 0, 32;
T_0.0 ;
    %load/vec4 v0x600001450c60_0;
    %load/vec4 v0x600001450a20_0;
    %cmp/e;
    %flag_mov 8, 4;
    %jmp/0 T_0.2, 8;
    %pushi/vec4 1346458451, 0, 32; draw_string_vec4
    %jmp/1 T_0.3, 8;
T_0.2 ; End of true expr.
    %pushi/vec4 1178683724, 0, 32; draw_string_vec4
    %jmp/0 T_0.3, 8;
 ; End of false expr.
    %blend;
T_0.3;
    %vpi_call 2 173 "$display", " %2d   |  %b  | %b |   %b   |   %b   | %b |    %b     |   %03b    | %s", v0x6000014507e0_0, v0x600001450900_0, v0x600001450990_0, v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0, v0x600001450a20_0, v0x600001450ab0_0, S<0,vec4,u32> {1 0 0};
    %end;
    .scope S_0x136606a80;
T_1 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450120_0, 0, 1;
    %end;
    .thread T_1;
    .scope S_0x136606a80;
T_2 ;
    %wait E_0x600003355d80;
    %load/vec4 v0x600001450090_0;
    %assign/vec4 v0x600001450120_0, 0;
    %jmp T_2;
    .thread T_2;
    .scope S_0x1366050a0;
T_3 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x6000014502d0_0, 0, 1;
    %end;
    .thread T_3;
    .scope S_0x1366050a0;
T_4 ;
    %wait E_0x600003355d80;
    %load/vec4 v0x600001450240_0;
    %assign/vec4 v0x6000014502d0_0, 0;
    %jmp T_4;
    .thread T_4;
    .scope S_0x136605210;
T_5 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450480_0, 0, 1;
    %end;
    .thread T_5;
    .scope S_0x136605210;
T_6 ;
    %wait E_0x600003355d80;
    %load/vec4 v0x6000014503f0_0;
    %assign/vec4 v0x600001450480_0, 0;
    %jmp T_6;
    .thread T_6;
    .scope S_0x1366092c0;
T_7 ;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450900_0, 0, 1;
T_7.0 ;
    %delay 5000, 0;
    %load/vec4 v0x600001450900_0;
    %inv;
    %store/vec4 v0x600001450900_0, 0, 1;
    %jmp T_7.0;
    %end;
    .thread T_7;
    .scope S_0x1366092c0;
T_8 ;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x600001450bd0_0, 0, 32;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x600001450cf0_0, 0, 32;
    %pushi/vec4 0, 0, 3;
    %store/vec4 v0x600001450ab0_0, 0, 3;
    %vpi_call 2 56 "$display", "===============================================================" {0 0 0};
    %vpi_call 2 57 "$display", "Testing top_module_shift - 3-stage shift register" {0 0 0};
    %vpi_call 2 58 "$display", "Module connections:" {0 0 0};
    %vpi_call 2 59 "$display", "  d -> flop1.d -> sig_a -> flop2.d -> sig_b -> flop3.d -> q" {0 0 0};
    %vpi_call 2 60 "$display", "  All flops share the same clock signal" {0 0 0};
    %vpi_call 2 61 "$display", "===============================================================" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450990_0, 0, 1;
    %wait E_0x600003355d80;
    %delay 1000, 0;
    %vpi_call 2 69 "$display", "\012Shift Register Operation:" {0 0 0};
    %vpi_call 2 70 "$display", "--------------------------------------------------------------" {0 0 0};
    %vpi_call 2 71 "$display", "Cycle | clk | d | sig_a | sig_b | q | Expected | Shift Reg | Result" {0 0 0};
    %vpi_call 2 72 "$display", "--------------------------------------------------------------" {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 1, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 2, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 3, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 4, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 5, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 6, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 7, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 8, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 9, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 10, 0, 32;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %vpi_call 2 90 "$display", "\012===============================================================" {0 0 0};
    %vpi_call 2 91 "$display", "All Zeros Test:" {0 0 0};
    %vpi_call 2 92 "$display", "--------------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
T_8.0 ;
    %load/vec4 v0x600001450b40_0;
    %cmpi/s 5, 0, 32;
    %jmp/0xz T_8.1, 5;
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 11, 0, 32;
    %load/vec4 v0x600001450b40_0;
    %add;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %load/vec4 v0x600001450b40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
    %jmp T_8.0;
T_8.1 ;
    %vpi_call 2 99 "$display", "\012===============================================================" {0 0 0};
    %vpi_call 2 100 "$display", "All Ones Test:" {0 0 0};
    %vpi_call 2 101 "$display", "--------------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
T_8.2 ;
    %load/vec4 v0x600001450b40_0;
    %cmpi/s 5, 0, 32;
    %jmp/0xz T_8.3, 5;
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 16, 0, 32;
    %load/vec4 v0x600001450b40_0;
    %add;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %load/vec4 v0x600001450b40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
    %jmp T_8.2;
T_8.3 ;
    %vpi_call 2 108 "$display", "\012===============================================================" {0 0 0};
    %vpi_call 2 109 "$display", "Alternating Pattern Test (101010):" {0 0 0};
    %vpi_call 2 110 "$display", "--------------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
T_8.4 ;
    %load/vec4 v0x600001450b40_0;
    %cmpi/s 6, 0, 32;
    %jmp/0xz T_8.5, 5;
    %load/vec4 v0x600001450b40_0;
    %parti/s 1, 0, 2;
    %store/vec4 v0x600001450870_0, 0, 1;
    %pushi/vec4 21, 0, 32;
    %load/vec4 v0x600001450b40_0;
    %add;
    %store/vec4 v0x6000014507e0_0, 0, 32;
    %fork TD_tb_top_module_shift.test_shift, S_0x1366049b0;
    %join;
    %load/vec4 v0x600001450b40_0;
    %addi 1, 0, 32;
    %store/vec4 v0x600001450b40_0, 0, 32;
    %jmp T_8.4;
T_8.5 ;
    %vpi_call 2 117 "$display", "\012===============================================================" {0 0 0};
    %vpi_call 2 118 "$display", "Signal Propagation Analysis:" {0 0 0};
    %vpi_call 2 119 "$display", "--------------------------------------------------------------" {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450990_0, 0, 1;
    %pushi/vec4 3, 0, 32;
T_8.6 %dup/vec4;
    %pushi/vec4 0, 0, 32;
    %cmp/s;
    %jmp/1xz T_8.7, 5;
    %jmp/1 T_8.7, 4;
    %pushi/vec4 1, 0, 32;
    %sub;
    %wait E_0x600003355d80;
    %jmp T_8.6;
T_8.7 ;
    %pop/vec4 1;
    %delay 1000, 0;
    %vpi_call 2 126 "$display", "Initial state: sig_a=%b, sig_b=%b, q=%b", v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0 {0 0 0};
    %pushi/vec4 1, 0, 1;
    %store/vec4 v0x600001450990_0, 0, 1;
    %wait E_0x600003355d80;
    %delay 1000, 0;
    %vpi_call 2 130 "$display", "After 1 clock: sig_a=%b (should be 1), sig_b=%b, q=%b", v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0 {0 0 0};
    %pushi/vec4 0, 0, 1;
    %store/vec4 v0x600001450990_0, 0, 1;
    %wait E_0x600003355d80;
    %delay 1000, 0;
    %vpi_call 2 134 "$display", "After 2 clocks: sig_a=%b, sig_b=%b (should be 1), q=%b", v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0 {0 0 0};
    %wait E_0x600003355d80;
    %delay 1000, 0;
    %vpi_call 2 137 "$display", "After 3 clocks: sig_a=%b, sig_b=%b, q=%b (should be 1)", v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0 {0 0 0};
    %vpi_call 2 141 "$display", "\012===============================================================" {0 0 0};
    %vpi_call 2 142 "$display", "Test Summary: %0d/%0d tests passed", v0x600001450bd0_0, v0x600001450cf0_0 {0 0 0};
    %load/vec4 v0x600001450bd0_0;
    %load/vec4 v0x600001450cf0_0;
    %cmp/e;
    %jmp/0xz  T_8.8, 4;
    %vpi_call 2 144 "$display", "Overall Result: ALL TESTS PASSED \342\234\223" {0 0 0};
    %jmp T_8.9;
T_8.8 ;
    %load/vec4 v0x600001450bd0_0;
    %cmpi/ne 0, 0, 32;
    %jmp/0xz  T_8.10, 4;
    %vpi_call 2 146 "$display", "Overall Result: SOME TESTS PASSED \342\232\240" {0 0 0};
    %jmp T_8.11;
T_8.10 ;
    %vpi_call 2 148 "$display", "Overall Result: NO TESTS PASSED \342\234\227" {0 0 0};
T_8.11 ;
T_8.9 ;
    %vpi_call 2 149 "$display", "===============================================================" {0 0 0};
    %vpi_call 2 151 "$finish" {0 0 0};
    %end;
    .thread T_8;
    .scope S_0x1366092c0;
T_9 ;
    %vpi_call 2 181 "$monitor", "Time=%0t: clk=%b, d=%b, sig_a=%b, sig_b=%b, q=%b", $time, v0x600001450900_0, v0x600001450990_0, v0x6000014506c0_0, v0x600001450750_0, v0x600001450c60_0 {0 0 0};
    %end;
    .thread T_9;
    .scope S_0x1366092c0;
T_10 ;
    %vpi_call 2 187 "$dumpfile", "top_module_shift_tb.vcd" {0 0 0};
    %vpi_call 2 188 "$dumpvars", 32'sb00000000000000000000000000000000, S_0x1366092c0 {0 0 0};
    %vpi_call 2 190 "$dumpvars", 32'sb00000000000000000000000000000001, S_0x136606a80 {0 0 0};
    %vpi_call 2 191 "$dumpvars", 32'sb00000000000000000000000000000001, S_0x1366050a0 {0 0 0};
    %vpi_call 2 192 "$dumpvars", 32'sb00000000000000000000000000000001, S_0x136605210 {0 0 0};
    %end;
    .thread T_10;
# The file index is used to find the file name in the following table.
:file_names 4;
    "N/A";
    "<interactive>";
    "tb_shift.v";
    "answer_shift.v";
